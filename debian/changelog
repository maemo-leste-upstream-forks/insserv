insserv (1.09.0-5) unstable; urgency=low

  * Update patch 44_path_at_runtime to include support for -c to point
    to a local config file.  It is required for a proper test suite.
  * Fix typo in test suite and extend it to check more scenarios.
  * Use local config file when running test suite.
  * Change $syslog virtual facility to depend on either syslog or
    sysklogd.  The sysklogd script provide syslog and not the sysklogd
    string that was requested in bug #324679.
  * Update patch 31_debian_conf to list udev mountdevsubfs checkroot
    checkfs console-screen as interactive scripts that should run
    alone.

 -- Petter Reinholdtsen <pere@debian.org>  Sun, 30 Dec 2007 09:23:22 +0100

insserv (1.09.0-4) unstable; urgency=low

  * Update patch 20_overrides to add useful default values for scripts
    without LSB header (Closes: #431697).
  * Update patch 43_shutdown to handle scripts with both start and
    stop levels.  (Closes: #452462).
  * New patch 44_path_at_runtime to add new option -p to make it
    possible to replace /etc/init.d with another path for testing.
  * Add script debian/run-testsuite to test the generated order, and
    use it during the build.

 -- Petter Reinholdtsen <pere@debian.org>  Sat, 29 Dec 2007 16:00:31 +0100

insserv (1.09.0-3) unstable; urgency=low

  * Update patch 40_nosusescript to disable unused function setlsb().
  * Add sendsigs to the $remote_fs virtual facility, to make sure the
    services depending on $remote_fs for the shutdown sequence are not
    killed before their init.d script get a chance to stop them.
  * New patch 43_shutdown to fix the handling of stop scripts and thus
    the shutdown sequence (Closes: #452462).  Thanks to Otavio
    Salvador for help with debugging and part of the patch.

 -- Petter Reinholdtsen <pere@debian.org>  Sat, 29 Dec 2007 00:20:04 +0100

insserv (1.09.0-2) unstable; urgency=low

  * New patch 10_nosuse to disable SUSE specific build.  This make
    it easier to debug insserv.
  * Update patch 40_nosusescript to remove SUSE-specific handling
    of the halt and reboot script.
  * Remove all override files for init.d scripts with LSB style
    dependency headers (Closes: #386544).
  * Update snmptrapfmt override file, making it more accurate.
  * Updated standards-version from 3.7.2 to 3.7.3.  No changes needed.

 -- Petter Reinholdtsen <pere@debian.org>  Tue, 25 Dec 2007 14:24:26 +0100

insserv (1.09.0-1) unstable; urgency=low

  * New upstream release. (Closes: #426091)
    - Support X-Start-Before and X-Stop-After (Closes: #326120)
    - Building with DEB_BUILD_OPTIONS=nostrip no longer strip the
      binary. (Closes: #437210)
  * Let /usr/share/insserv/check-initd-order read override files in
    /etc/insserv/overrides/ just like insserv does.  Patch from Arjan
    Oosting.  (Closes: #429398)
  * Correct the dependencies for nbd-client and libnss-ldap.
  * Add override file for spamassassin.
  * Update watch file with new upstream URL. (Closes: #450044)

 -- Petter Reinholdtsen <pere@debian.org>  Sat, 17 Nov 2007 21:17:20 +0100

insserv (1.08.0-14) unstable; urgency=low

  * Correct the dependencies for hwclock.sh.
  * Update libdevmapper*, raid2 and mdadm-raid by adding
    module-init-tools as an alternative to modutils, and move
    both from required-start to should-start, as either or both
    might be available. (Closes: #432072)

 -- Petter Reinholdtsen <pere@debian.org>  Mon,  9 Jul 2007 13:40:36 +0200

insserv (1.08.0-13) unstable; urgency=low

  * Add override files for sysfsutils and hplip.
  * Add cryptdisks-early as should-start to the lvm2 override
    file (Closes: 429402)

 -- Petter Reinholdtsen <pere@debian.org>  Mon, 18 Jun 2007 17:32:50 +0100

insserv (1.08.0-12) unstable; urgency=low

  * Add override files for nbd-server and libdevmapper1.02.1.
  * Update override files for atd, atftpd, discover, enable-nat,
    keymap.sh, klogd, mplayer, networking, open-backdoor,
    openbsd-inetd, report-reboot, rsync and start-wlan
    based on the headers in the packages themselves.
  * Add override file for lvm2 (Closes: #426104).

 -- Petter Reinholdtsen <pere@debian.org>  Sat, 26 May 2007 12:42:38 +0200

insserv (1.08.0-11) unstable; urgency=low

  * Add override file for timidity.
  * Add override file for powernowd.
  * Add override file for laptop-mode.
  * Update override file for libnss-ldap.

 -- Petter Reinholdtsen <pere@debian.org>  Thu,  2 Nov 2006 13:36:10 +0100

insserv (1.08.0-10) unstable; urgency=low

  * Add override file for cpqarrayd.
  * Add override file for libpam-devperm.
  * Add override file for screen-cleanup.

 -- Petter Reinholdtsen <pere@debian.org>  Sat, 14 Oct 2006 21:00:31 +0200

insserv (1.08.0-9) unstable; urgency=low

  * Change bind9 override file to avoid dependency loop involving
    $syslog->sysklogd->$named->bind9.  Remove $syslog dependency and
    insert $remote_fs dependency instead.  Make the $network dependency
    conditional to work when netbase is not installed.
  * Add override file for resolvconf.
  * Add override file for installation-report.
  * Minor cleanup in nviboot override file, only depend on $remote_fs, no need
    to also depend on $local_fs.

 -- Petter Reinholdtsen <pere@debian.org>  Sat,  7 Oct 2006 10:08:04 +0200

insserv (1.08.0-8) unstable; urgency=low

  * Add override files for festival, hotkey-setup and lisa.
  * New patch 41_debiandefault to set the default runlevels for start (2345)
    and stop (016) on Debian.

 -- Petter Reinholdtsen <pere@debian.org>  Sat, 16 Sep 2006 17:32:24 +0200

insserv (1.08.0-7) unstable; urgency=low

  * Remove override file console-screen.sh.  The info is now present in the
    file itself.
  * Modify override file for lvm to document that it should stop just
    before halt and reboot.
  * Modify override file for exim4 to only conditional depend on $named.
  * Rewrite check-initd-order to avoid the dependency on perl-modules,
    to make it easier to run in systems with small disks.
  * Remove override files for aumix, cfengine2, cryptdisk, hdparm,
    ifupdown, ifupdown-clean, kdm, nfs-common, nfs-kernel-server,
    pcmcia, portmap, sudo, udev, udev-mtab, x11-common,
    xdebconfigurator.  It is good enough in the scripts themselves
    now.
  * Modify override file for atd to avoid redundant dependencies and
    drop runlevel 'S' from the stop list.  Reported as bug #376780.

 -- Petter Reinholdtsen <pere@debian.org>  Thu, 14 Sep 2006 15:15:49 +0200

insserv (1.08.0-6) unstable; urgency=low

  * Minor change to the template text, explaining that the S* symlinks
    are renamed to K* symlinks in rc0.d/ and rc6.d/.
  * Correct override file for sysklogd and klogd.  These should not
    start in runlevel S, and should stop in runlevel 1.
  * Add $syslog to the dependency list for openbsd-inetd, to make sure
    it can log its start to syslog.  Drop $local_fs, as it is a
    dependency for $remote_fs.
  * New patch debian/patches/40_nosusescript to avoid inserting the
    'single' script showing up in runlevel S, and also avoid fixing
    the sequence number to the values used by SuSe.
  * Correct override file for hotplug-net, it should depend on $local_fs.
  * Correct override file for hotplug, it should stop before $local_fs.
  * Modify patch 31_debian_conf to also list ifupdown as part of the
    $network facility, to make $network available in runlevel 0 and 6.
  * Try to make update-bootsystem-insserv more robust on restores.
    Move conversion logs and related files to /var/lib/insserv.

 -- Petter Reinholdtsen <pere@debian.org>  Sun, 10 Sep 2006 20:17:15 +0200

insserv (1.08.0-5) unstable; urgency=low

  * New flag -k for check-initd-order to look at the stop sequence instead
    of the start sequence.
  * Correct override files for acpid, alsa, alsa-utils, apmd,
    hwclockfirst.sh, ifupdown, modutils, networking, nullmailer,
    openbsd-inetd, pcmcia, procps.sh, and update-hostname.
  * Remove override files for bootlogd, bootmisc.sh, checkfs.sh,
    checkroot.sh, glibc.sh, halt, hostname.sh, module-init-tools,
    mountall.sh, mountdevsubfs.sh, mountnfs.sh, reboot, rmnologin,
    sendsigs, single, stop-bootlogd, umountfs umountnfs.sh and urandom
    as the scripts themselves now have correct dependency information
    in them.
  * With the current patches and dependency info, insserv generate
    correct shutdown order.  (Closes: #350188)

 -- Petter Reinholdtsen <pere@debian.org>  Sat,  9 Sep 2006 20:23:28 +0200

insserv (1.08.0-4) unstable; urgency=low

  * Change update-bootsystem-insserv to refuse to convert the boot
    system if there are dependency loops.
  * New patch 37_consistent_path to make more consistent log output.
  * Adjust the the rules file to make sure we build using the compiler options
    specified there.
  * New patch 33_debian_localok making .local a valid ending,
    to accept script names like 'rc.local'.
  * New patch 38_debuginfo to improve the debug output.
  * New patch 39_debianlvl.dpatch to handle rcS.d/ a bit better.
  * Add override for mountdevsubfs.sh, documenting its
    relation to udev.
  * Add override for stop-bootlogd, documenting that it should come late,
    after rmnologin.
  * Make it easier to enable the dependency based boot system by
    adding a fairly well hidden debconf question to activate it.
  * Adjust the override files for dns-clean, hotplug, hotplug-net,
    hwclock.sh, keymap.sh, libdevmapper1.00, libdevmapper1.01,
    libdevmapper1.02, modutils, nviboot and procps.sh to make sure
    they only start in runlevel S.
  * Adjust override file for acpid, nstxd and nstxcd, to make sure
    they are not started in runlevel S.
  * Adjust override file for makedev and rmnologin, there is
    no reason to add stop links for them.
  * Remove 'S' from all override files listing it in should-stop.  It
    never make sense to add stop scripts in rcS.d/.
  * Allow check-initd-order to continue even if one file is unreadable.
  * Add override files for apt-index-watcher, vbesave, acpi-support
    and libnss-ldap.
  * Correct the definition of $remote_fs to include mountnfs,
    mountnfs-bootclean and umountnfs.
  * Correct the definition of $local_fs to include mountfs,
    mountfs-bootclean and umountfs.
  * Adjust the override file for openbsd-inetd, to make sure it start
    after /usr/ is mounted.

 -- Petter Reinholdtsen <pere@debian.org>  Fri,  8 Sep 2006 19:14:15 +0200

insserv (1.08.0-3) unstable; urgency=low

  * Extend check-initd-order to accept a new argument -o, to not load
   the override files.

 -- Petter Reinholdtsen <pere@debian.org>  Thu,  7 Sep 2006 11:59:17 +0200

insserv (1.08.0-2) unstable; urgency=low

  * New patch 35_fixunused removing incorrect 'unused' flagg from a
    few functions, to avoid compile warning on s390.
  * New patch 36_memleak fixing a minor memory leak.
  * Updated override file for libdevmapper1.00.
  * Added override file for libdevmapper1.02.
  * Sync override files with the unstable init.d scripts for
    alsa,alsa-utils, atd, bootlogd, bootmisc.sh, cfengine2,
    checkfs.sh, checkroot.sh, console-screen.sh, cryptdisk, exim4,
    fam, halt, hdparm, kdm, keymap.sh, makedev, module-init-tools,
    mountall.sh, mountnfs.sh, networking, nfs-common,
    nfs-kernel-server, pcmcia, portmap, pppd-dns, procps.sh, reboot,
    rmnologin, single, sudo, udev, udev-mtab, umountfs, umountnfs.sh,
    urandom and xdebconfigurator.  I assume the package maintainer
    know the scripts best, and use their values.
  * Added override file for usplash.
  * Modify update-bootsystem-insserv to report dependency loop
    problems. (Closes: #386301)
  * Add recommend on perl-modules. (Closes: #386300)
  * Update standards-version to 2.7.2.  No changes needed.
  * Do not include 'klogd' in the $syslog facility, to avoid
    dependency loop.
  * Change mountvirtfs to mountdevsubfs in all override files, to
    use the new name instead of the obsolete name.
  * The keymap override should not depend on $syslog, and neither should
    keymap.sh itself (bug #386338).
  * Update 20_overrides.dpatch to new version of the source.

 -- Petter Reinholdtsen <pere@debian.org>  Thu,  7 Sep 2006 00:45:18 +0200

insserv (1.08.0-1) unstable; urgency=low

  * New upstream release.
  * Correct name of logfile, moving the stderr redirect to the insserv
    call. (Closes: #349494)
  * Add code in update-bootsystem-insserv to convert all S* symlinks
    in rc1.d and rc6.d to K* symlinks before insserv is executed. to
    reflect the argument passed on to these scripts in debian.
    Addresses part of bug #350188.

 -- Petter Reinholdtsen <pere@debian.org>  Sun,  1 Apr 2006 17:30:35 +0100

insserv (1.04.0-2) unstable; urgency=low

  * Modify 20_override.dpatch based on input from upstream author
    Werner Fink, to add more error handling.

 -- Petter Reinholdtsen <pere@debian.org>  Fri, 11 Nov 2005 15:35:27 +0100

insserv (1.04.0-1) unstable; urgency=low

  * New upstream release.
    - Start building without -DSUSE, to enable processing of *-stop headers.
  * Updated upstream URL in copyright file to match the latest location.
  * Remove 40_dryrunmore.dpatch, applied upstream.
  * Remove 41_dryrun_msg.dpatch, applied upstream.
  * Remove 50_cfgfilter.dpatch, applied upstream.
  * Merged 20_overrides.dpatch and 25_overrides.dpatch into one patch
    20_overrides.dpatch.
  * New 34_debian.dpatch modifying the paths from rc#.d/, getting
    non-SUSE case working on Debian.
  * New patch 30_non_suse.dpatch fixing segfault in the non-SUSE case.
  * Updated init.d override files for hwclockfirst, ifupdown,
    ifupdwon-clean, initrd-tools, keymap, networking, procps and
    udev-mtab.

 -- Petter Reinholdtsen <pere@debian.org>  Thu, 10 Nov 2005 22:50:14 +0100

insserv (1.02.0-3) unstable; urgency=low

  * Added init.d override files for acct, apache2, snmpd and snmptrapfmt.
  * Updated and corrected override file for alsa, apache, atd, cron,
    gdm, gpsd, initrd-tools, udev-mtab and xdm.
  * Wrote graphviz dotty graph generation support for check-init-order (-g).
  * Updated README.Debian to reflect the current status in Debian, and
    included some instructions on how to use this package.
  * Documented in the override files which dependency information I've
    reported to BTS.
  * Add 'ntpdate' as a optional dependency for the $time virtual
    facility, to make sure NTP update is done on machines without
    their own NFS server
  * Wrote manual page for update-bootsystem-insserv(8).

 -- Petter Reinholdtsen <pere@debian.org>  Thu, 10 Nov 2005 00:18:49 +0100

insserv (1.02.0-2) unstable; urgency=low

  * Added init.d override files for hibernate, mdadm-raid, start-wlan
    and x11-common.
  * Corrected sysklogd override file, to only provide sysklogd.
  * Document BTS bug numbers in the override file for the init.d
    dependency headers I've submitted to the package maintainer.

 -- Petter Reinholdtsen <pere@debian.org>  Wed,  5 Oct 2005 17:04:01 +0200

insserv (1.02.0-1) unstable; urgency=low

  * New upstream version.
    - Rewritten to handle non-SuSe systems better.
    - Patches 05_verbose_doc, 10_dryrun, and 50_lsb_shold_std removed,
      as they are included upstream.
    - Updated patch 40_dryrunmore to match new version, and extend it to
      also cover SuSe code.
  * Still building with -DSUSE as the new non-SuSe features are still
    buggy.
  * Changed download URL in copyright file to
    <URL:ftp://ftp.suse.com/pub/projects/init/>.
  * Removed rc and rcS, as a version of sysvinit
    with equivalent patches is in sid and etch now.
  * Added and updated init.d dependency info override files.
    The provided dependencies is tested to work on my test machines
    with 2.4 and 2.6 installs. (Closes: #325798)
  * New script update-bootsystem-insserv to reorder
    the boot scripts with a backup.
  * Avoid initscripts with .dpkg* in the name.
    (51_cfgfilter_dpkg.dpatch) (Closes: #326445)
  * Add dependency on sysv-rc. (Closes: #329279)

 -- Petter Reinholdtsen <pere@debian.org>  Sat,  3 Sep 2005 13:18:51 +0200

insserv (1.00.8-5) unstable; urgency=low

  * Updated dependency info for (module-init-tools, modutils, raid2, mdadm)
  * Added dependency override files (noflushd, laptop-net, whereami, pcscd)

 -- Petter Reinholdtsen <pere@debian.org>  Fri,  2 Sep 2005 09:21:25 +0200

insserv (1.00.8-4) unstable; urgency=low

  * Added dependecy override files (xdm, irqbalance).
  * Updated dependency info for a few override files (devfsd,
    discover, hotplug, hotplug-net, hwclock.sh, keymap.sh, rmnologin,
    sudo, gdm, lvm, ntpdate, xfs, aumix, freevo, laptop-netconf,
    report-reboot, open-backdoor).
  * New patch to avoid warning about missing override files if the
    init.d file already contain LSB tags.  (25_override.dpatch)
  * Correct header example in the insserv(8) manual page.
    (50_lsb_should_std.dpatch)

 -- Petter Reinholdtsen <pere@debian.org>  Thu,  1 Sep 2005 22:24:51 +0200

insserv (1.00.8-3) unstable; urgency=low

  * Added dependecy override files (nullmailer, binfmt-support).
  * Add suggests on bootchart, a great tool to debug the boot
    sequence.
  * New patch to get dryrun mode working also when /etc/rc.boot is
    missing. (40_dryrunmore.dpatch)
  * Added more information about the dangers of reorganizing the boot
    sequence in README.Debian.
  * Some package cleanup.

 -- Petter Reinholdtsen <pere@debian.org>  Fri, 30 Aug 2005 00:20:16 +0200

insserv (1.00.8-2) unstable; urgency=low

  * Updated and added dependecy override files.
  * Added script check-initd-order, trying to check the current boot
    sequence in debian based on the LSB headers present.

 -- Petter Reinholdtsen <pere@debian.org>  Fri, 26 Aug 2005 00:20:16 +0200

insserv (1.00.8-1) unstable; urgency=low

  * Initial Release. (Closes: #324926)
  * Document the -v (--verbose) flag. (05_verbose_doc.dpatch)
  * Implement new option -n (--dryrun). (10_dryrun.dpatch)
  * Implement support for reading LSB init.d header info from override
    files. (20_overrides.dpatch)
  * Adjust some paths and avoid installing LSB install scripts to
    match Debian policy.  (30_debian.dpatch)
  * Add README.Debian explaining how to test this.

 -- Petter Reinholdtsen <pere@debian.org>  Fri, 26 Aug 2005 00:19:16 +0200
